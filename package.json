{
  "name": "smart-air-quality-ai-line-bot",
  "version": "3.0.0",
  "description": "ğŸ¤– AI å¢å¼·ç‰ˆæ™ºæ…§ç©ºæ°£å“è³ª LINE æ©Ÿå™¨äºº - æ”¯æ´è‡ªç„¶èªè¨€å°è©±ã€æ„åœ–è­˜åˆ¥ã€å¯¦é«”æŠ½å–å’Œå€‹äººåŒ–å›æ‡‰",
  "main": "index.js",
  "scripts": {
    "start": "node index.js",
    "dev": "nodemon index.js",
    "test": "node test.js",
    "test:ai": "node test-ai-features.js",
    "test:local": "TEST_URL=http://localhost:3000 node test.js && node test-ai-features.js",
    "test:production": "node test.js && node test-ai-features.js",
    "build": "echo 'No build step required for Node.js application'",
    "lint": "echo 'ESLint not configured - consider adding for production'",
    "health": "curl -f http://localhost:3000/health || exit 1",
    "health:ai": "curl -f http://localhost:3000/debug | grep -q 'ai.*enabled' || echo 'AI features may not be enabled'",
    "logs": "echo 'Checking application logs...' && tail -n 50 /var/log/app.log 2>/dev/null || echo 'No logs found'",
    "clean": "echo 'Cleaning temporary files...' && rm -rf node_modules/.cache 2>/dev/null || true",
    "security-check": "npm audit --audit-level moderate",
    "update-deps": "npm update && npm audit fix",
    "setup:ai": "echo 'Please configure AI service API keys in environment variables. See .env.example for details.'",
    "demo:conversation": "echo 'AI Conversation Examples:' && echo 'ç”¨æˆ¶: å°åŒ—ä»Šå¤©ç©ºæ°£æ€éº¼æ¨£ï¼Ÿ' && echo 'æ©Ÿå™¨äºº: æˆ‘ä¾†å¹«æ‚¨æŸ¥è©¢å°åŒ—çš„ç©ºæ°£å“è³ªç‹€æ³...'",
    "cost:estimate": "echo 'AIæœå‹™æˆæœ¬ä¼°ç®—:' && echo 'OpenAI GPT-3.5: ~$1-5/æ—¥ (ä¸­ç­‰ä½¿ç”¨é‡)' && echo 'Claude: é¡ä¼¼OpenAIï¼Œä¸­æ–‡ç†è§£æ›´ä½³' && echo 'Gemini: è¼ƒé«˜å…è²»é¡åº¦'"
  },
  "keywords": [
    "line-bot",
    "air-quality",
    "aqi",
    "pm2.5",
    "taiwan",
    "environmental",
    "health",
    "weather",
    "api",
    "real-time",
    "gps",
    "smart",
    "ai",
    "artificial-intelligence",
    "natural-language-processing",
    "nlp",
    "chatbot",
    "conversation-ai",
    "intent-recognition",
    "entity-extraction",
    "openai",
    "gpt",
    "claude",
    "gemini",
    "flex-message",
    "webhook",
    "environmental-monitoring",
    "health-advice",
    "personalization",
    "context-awareness"
  ],
  "author": {
    "name": "Smart Air Quality AI Bot Team",
    "email": "contact@airquality-ai-bot.com",
    "url": "https://github.com/your-username/smart-air-quality-ai-bot"
  },
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "https://github.com/your-username/smart-air-quality-ai-bot.git"
  },
  "bugs": {
    "url": "https://github.com/your-username/smart-air-quality-ai-bot/issues"
  },
  "homepage": "https://github.com/your-username/smart-air-quality-ai-bot#readme",
  "dependencies": {
    "@line/bot-sdk": "^9.3.0",
    "express": "^4.18.2",
    "axios": "^1.6.2",
    "node-cron": "^3.0.3",
    "openai": "^4.7.0"
  },
  "devDependencies": {
    "nodemon": "^3.0.2"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=8.0.0"
  },
  "config": {
    "port": 3000,
    "cache_duration": 300000,
    "user_state_timeout": 600000,
    "location_cache_timeout": 3600000,
    "ai_max_tokens": 300,
    "ai_temperature": 0.7,
    "conversation_history_length": 10
  },
  "nodemonConfig": {
    "watch": [
      "index.js",
      "package.json",
      ".env"
    ],
    "ext": "js,json,html,env",
    "ignore": [
      "node_modules/",
      "*.log",
      ".git/",
      "test*.js"
    ],
    "delay": 1000,
    "env": {
      "NODE_ENV": "development"
    }
  },
  "deployment": {
    "platform": "render",
    "build_command": "npm install",
    "start_command": "npm start",
    "environment": "production",
    "auto_deploy": true,
    "health_check_path": "/health",
    "ai_features": true
  },
  "features": {
    "core": [
      "real_time_air_quality_query",
      "multi_city_comparison",
      "smart_health_advice", 
      "gps_location_query",
      "subscription_management",
      "flex_message_interface",
      "api_caching",
      "error_handling",
      "auto_cleanup"
    ],
    "ai_enhanced": [
      "natural_language_processing",
      "intent_classification",
      "entity_extraction", 
      "conversation_memory",
      "context_awareness",
      "personalized_responses",
      "multi_ai_service_support",
      "smart_fallback",
      "conversation_logging",
      "user_preference_learning"
    ]
  },
  "ai_services": {
    "supported": [
      {
        "name": "OpenAI GPT",
        "models": ["gpt-3.5-turbo", "gpt-4"],
        "env_key": "OPENAI_API_KEY",
        "cost": "$0.002/1K tokens",
        "features": ["high_quality", "fast_response", "english_optimized"],
        "recommended": true
      },
      {
        "name": "Anthropic Claude",
        "models": ["claude-3-haiku", "claude-3-sonnet"],
        "env_key": "ANTHROPIC_API_KEY", 
        "cost": "Similar to OpenAI",
        "features": ["chinese_optimized", "long_context", "safety_focused"],
        "recommended_for": "chinese_users"
      },
      {
        "name": "Google Gemini",
        "models": ["gemini-pro"],
        "env_key": "GOOGLE_AI_KEY",
        "cost": "Higher free tier",
        "features": ["multimodal", "free_tier", "fast_development"],
        "recommended_for": "cost_conscious"
      }
    ],
    "fallback": {
      "enabled": true,
      "method": "keyword_matching",
      "description": "Basic NLP when AI services unavailable"
    }
  },
  "supported_cities": {
    "taiwan": [
      "taipei", "kaohsiung", "taichung", "tainan", "new-taipei", 
      "taoyuan", "keelung", "hsinchu", "miaoli", "changhua",
      "nantou", "yunlin", "chiayi", "pingtung", "yilan",
      "hualien", "taitung", "penghu", "kinmen", "matsu"
    ],
    "international": [
      "beijing", "shanghai", "guangzhou", "shenzhen", "hong-kong", "macau",
      "tokyo", "osaka", "seoul", "busan", "bangkok", "singapore",
      "kuala-lumpur", "jakarta", "manila", "hanoi", "ho-chi-minh-city",
      "mumbai", "delhi", "london", "paris", "berlin", "rome", "madrid",
      "new-york", "los-angeles", "chicago", "toronto", "vancouver",
      "sydney", "melbourne"
    ],
    "total_count": 52
  },
  "conversation_examples": {
    "natural_queries": [
      "å°åŒ—ä»Šå¤©ç©ºæ°£æ€éº¼æ¨£ï¼Ÿ",
      "æˆ‘æƒ³è¦è·‘æ­¥ï¼Œç¾åœ¨é©åˆå—ï¼Ÿ",
      "å°ä¸­å’Œé«˜é›„å“ªå€‹ç©ºæ°£æ¯”è¼ƒå¥½ï¼Ÿ",
      "é™„è¿‘æœ‰ç©ºæ°£å“è³ªç›£æ¸¬ç«™å—ï¼Ÿ",
      "å¹«æˆ‘è¨­å®šç©ºæ°£å“è³ªæé†’",
      "å°å­©å¯ä»¥å‡ºå»ç©å—ï¼Ÿ",
      "ä»€éº¼æ˜¯PM2.5ï¼Ÿ",
      "ç©ºæ°£æ±¡æŸ“å°å¥åº·æœ‰ä»€éº¼å½±éŸ¿ï¼Ÿ"
    ],
    "ai_responses": [
      "æ™ºæ…§ç†è§£ç”¨æˆ¶æ„åœ–",
      "æä¾›å€‹äººåŒ–å¥åº·å»ºè­°",
      "è¨˜ä½å°è©±ä¸Šä¸‹æ–‡",
      "è‡ªå‹•åŸ·è¡Œç›¸é—œåŠŸèƒ½"
    ]
  },
  "api_endpoints": {
    "health_check": "/health",
    "debug_info": "/debug",
    "air_quality": "/api/air-quality/:city",
    "statistics": "/api/stats", 
    "subscription_stats": "/api/subscriptions/stats",
    "webhook": "/webhook",
    "home": "/"
  },
  "environment_variables": {
    "required": [
      "LINE_CHANNEL_ACCESS_TOKEN",
      "LINE_CHANNEL_SECRET"
    ],
    "ai_services": [
      "OPENAI_API_KEY",
      "ANTHROPIC_API_KEY", 
      "GOOGLE_AI_KEY"
    ],
    "optional": [
      "WAQI_TOKEN",
      "PORT",
      "NODE_ENV",
      "AI_MAX_TOKENS",
      "AI_TEMPERATURE",
      "CONVERSATION_HISTORY_LENGTH"
    ]
  },
  "monitoring": {
    "health_check_interval": "*/5 * * * *",
    "cache_cleanup_interval": "*/5 * * * *",
    "conversation_cleanup_interval": "0 * * * *",
    "log_retention_days": 7,
    "performance_metrics": true,
    "ai_usage_tracking": true
  },
  "security": {
    "helmet": false,
    "cors": false,
    "rate_limiting": false,
    "input_validation": true,
    "error_sanitization": true,
    "api_key_protection": true,
    "conversation_privacy": true,
    "gdpr_compliant": true
  },
  "testing": {
    "basic_functionality": "npm test",
    "ai_features": "npm run test:ai",
    "local_development": "npm run test:local",
    "production_deployment": "npm run test:production",
    "coverage_tools": "none",
    "performance_testing": "included"
  },
  "documentation": {
    "setup_guide": "AI-SETUP.md",
    "api_reference": "README-AI-Enhanced.md",
    "deployment_guide": "README.md",
    "troubleshooting": "README-AI-Enhanced.md#æ•…éšœæ’é™¤",
    "examples": ".env.example"
  },
  "cost_optimization": {
    "caching": "Reduce duplicate AI calls",
    "token_limits": "Control response length",
    "smart_fallback": "Use basic NLP when possible",
    "monitoring": "Track usage and costs"
  },
  "future_roadmap": {
    "v3.1": [
      "å¤šèªè¨€æ”¯æ´",
      "èªéŸ³è¨Šæ¯ç†è§£",
      "åœ–ç‰‡åˆ†æåŠŸèƒ½"
    ],
    "v3.2": [
      "æœ¬åœ°LLMæ”¯æ´", 
      "å°ˆæ¥­ç’°å¢ƒæ¨¡å‹",
      "ç¾¤çµ„åŠŸèƒ½"
    ],
    "v4.0": [
      "IoTæ„Ÿæ¸¬å™¨æ•´åˆ",
      "å¥åº·è¿½è¹¤ç³»çµ±",
      "ç¤¾ç¾¤åŠŸèƒ½"
    ]
  }
}